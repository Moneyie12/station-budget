<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MT5 Mobile Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background-color: #121212; color: #ffffff; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; padding: 20px; }
        .card { background-color: #1e1e1e; border: 1px solid #333; border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.5); margin-bottom: 20px; }
        .text-gold { color: #FFD700 !important; }
        .text-green { color: #00FF7F !important; }
        .text-red { color: #FF4500 !important; }
        h4 { font-weight: bold; border-bottom: 1px solid #333; padding-bottom: 10px; margin-bottom: 15px; }
        .data-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 1.1rem; }
        .data-label { color: #aaa; }
        .data-val { font-weight: bold; font-family: 'Courier New', Courier, monospace; }
        .update-time { font-size: 0.8rem; color: #888; text-align: center; margin-top: 20px; }
        
        .pulse-dot {
            height: 10px; width: 10px; background-color: #00FF7F; border-radius: 50%; display: inline-block;
            box-shadow: 0 0 10px #00FF7F; animation: pulse 1.5s infinite; margin-right: 5px;
        }
        @keyframes pulse { 0% { transform: scale(0.95); opacity: 0.7; } 50% { transform: scale(1.2); opacity: 1; } 100% { transform: scale(0.95); opacity: 0.7; } }
    </style>
</head>
<body>

    <div class="container max-w-sm mx-auto">
        <h2 class="text-center text-gold mb-4"><i class="fas fa-chart-line me-2"></i>GRIDGOLDGO</h2>

        <div class="card p-3">
            <h4><i class="fas fa-user-circle me-2"></i>Account Info</h4>
            <div class="data-row"><span class="data-label">Broker:</span><span class="data-val" id="val_broker">Loading...</span></div>
            <div class="data-row"><span class="data-label">Login ID:</span><span class="data-val" id="val_id">---</span></div>
        </div>

        <div class="card p-3">
            <h4><i class="fas fa-wallet me-2"></i>Balance & Equity</h4>
            <div class="data-row"><span class="data-label">Balance:</span><span class="data-val text-white" id="val_balance">0.00</span></div>
            <div class="data-row"><span class="data-label">Equity:</span><span class="data-val text-white" id="val_equity">0.00</span></div>
            <div class="data-row mt-2"><span class="data-label">Profit (Now):</span><span class="data-val" id="val_profit">0.00</span></div>
        </div>

        <div class="card p-3">
            <h4><i class="fas fa-layer-group me-2"></i>Trading Status</h4>
            <div class="data-row"><span class="data-label">Lots (Open):</span><span class="data-val text-gold" id="val_lots">0.00</span></div>
            <div class="data-row"><span class="data-label">Margin Level:</span><span class="data-val" id="val_margin">0.00%</span></div>
        </div>

        <div class="update-time">
            <span class="pulse-dot"></span> ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: <span id="val_time">‡∏£‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠...</span>
        </div>
    </div>

    <script>
        // ==========================================
        // üî¥ ‡∏ß‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå Firebase ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ (‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÉ‡∏ô Python)
        // ==========================================
        const FIREBASE_URL = "https://mt5-dashboard-985da-default-rtdb.asia-southeast1.firebasedatabase.app/mt5_data.json";

        function formatMoney(num) { return parseFloat(num).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 }); }

        async function fetchMT5Data() {
            try {
                const response = await fetch(FIREBASE_URL);
                const data = await response.json();
                
                if(data) {
                    document.getElementById('val_broker').innerText = data.broker;
                    document.getElementById('val_id').innerText = data.id;
                    document.getElementById('val_balance').innerText = formatMoney(data.balance);
                    document.getElementById('val_equity').innerText = formatMoney(data.equity);
                    
                    const profitEl = document.getElementById('val_profit');
                    profitEl.innerText = formatMoney(data.profit_now);
                    profitEl.className = data.profit_now >= 0 ? "data-val text-green" : "data-val text-red";

                    document.getElementById('val_lots').innerText = formatMoney(data.lots_open);
                    document.getElementById('val_margin').innerText = data.margin_level ? formatMoney(data.margin_level) + "%" : "---";
                    document.getElementById('val_time').innerText = data.timestamp;
                }
            } catch (error) {
                console.error("Error fetching data:", error);
                document.getElementById('val_time').innerText = "‡∏Ç‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠!";
            }
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏•‡∏∞‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏∏‡∏Å‡πÜ 3 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        fetchMT5Data();
        setInterval(fetchMT5Data, 3000);
    </script>
</body>
</html>